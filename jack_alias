# Manually tell Xfce to use capslock as escape
alias caps='/usr/bin/setxkbmap -option "caps:escape"'
caps
# Allow a manual override to completely null out the capslock (Useful while using Jira)
alias nocaps='/usr/bin/setxkbmap -option "caps:none"'

alias start_postgres='/usr/lib/postgresql/9.1/bin/postgres -D /var/lib/postgresql/9.1/main -c config_file=/etc/postgresql/9.1/main/postgresql.conf &
'
wf='jackdesert@jackdesert.webfactional.com'
alias be='bundle exec'
alias bs='git branch && git status'
alias h='cd ~/h'
alias alt1='TEST_ENV_NUMBER=1'
alias alt2='TEST_ENV_NUMBER=2'
alias rc='bundle exec rails console'
alias sin='bundle exec rerun -b "ruby app.rb"'
alias cl='cd ~/r/sinatra_scraper'
alias wi='cd ~/r/wiki/content'
alias log='git log --name-status'
alias mig='RAILS_ENV=test bundle exec rake db:migrate && bundle exec rake db:migrate'
alias redo='RAILS_ENV=test bundle exec rake db:migrate:redo && bundle exec rake db:migrate:redo'
alias mus='mpg123 ~/Music/03\ Fort\ Knox.mp3'
alias keep="git add . && git commit -am'placeholder'"
alias keeps='keep; git push origin master'
alias rackdev='ssh -A dev@209.20.74.96'
racka='dev@209.20.74.96'
alias p='cd ~/portable'
#alias push='gem build breadnbutter.gemspec && gem install breadnbutter-0.0.1.gem'
#alias ff='find -iname'
#alias hint='grunt jshint'
alias turn_on_ssh_agent='eval $(ssh-agent)'
alias remember='eval $(ssh-agent) && ssh-add ~/.ssh/id_rsa'

# Vagrant
alias vs='cd ~/portable && vagrant up && vagrant ssh'
alias vu='cd ~/portable && vagrant up'
alias vp='cd ~/portable && vagrant provision'
alias vf='vi portable/Vagrantfile'
alias viv='vi ~/portable/Vagrantfile'
alias vir='vi ~/portable/README.md'

alias rr='bundle exec rake routes | grep'
alias pass="git add . && git commit -am'placeholder--CURRENT TEST PASSING'"

#   Aliases using my Nav class, which goes upward until it finds a gemfile, then cds 
alias m='cd $(ruby ~/.utils/nav.rb m)'
alias v='cd $(ruby ~/.utils/nav.rb v)'
alias c='cd $(ruby ~/.utils/nav.rb c)'
alias r='cd $(ruby ~/.utils/nav.rb r)'
alias j='cd $(ruby ~/.utils/nav.rb j)'
alias s='cd $(ruby ~/.utils/nav.rb s)'

alias pp='ps aux | grep '
alias sb='source ~/.bashrc'
jj='jackdesert@jackdesert.webfactional.com'
alias startpostgres='sudo -u postgres /usr/local/pgsql/bin/postgres -D /usr/local/pgsql/data &'

# Sup uses the system ruby, so there's a folder where rbenv is set to use system ruby locally
# This command changes to that directory before running Sup, then comes back afterward
alias sup='dir_before_sup=`pwd` && cd ~/sup && sup-mail && cd $dir_before_sup && unset dir_before_sup'


# This only applies to Crucial hdd on MacBook Pro where I built postgres from source
export PATH=/usr/local/pgsql/bin:$PATH

# Tell git to use vim
export EDITOR=vim

#alias on='synclient TouchpadOff=0'
#alias off='synclient TouchpadOff=1'

# Git
alias gg='git grep -i'

# my external hdd
#alias linux='sudo mount -t ext2 /dev/sdb2 /media/jd/linux && cd /media/jd/linux'

# xmodmap
xmodmap ~/.Xmodmap

# set repeat rate manually
# (Note that on osx using KeyRemap4MacBook 240/30 feels the same as 240/50 through xset)
xset r rate 240 60


# Mount Apple File Protocol Shares
# Example:
#   apple technology
#alias apple='ruby ~/.utils/applemount.rb'
alias applec='gvfs-mount afp://jack@10.1.10.10/Creative/ && cd /run/user/jd/gvfs/afp-volume:host=10.1.10.10,user=jack,volume=Creative/'
alias applet='gvfs-mount afp://jack@10.1.10.10/Technology/ && cd /run/user/jd/gvfs/afp-volume:host=10.1.10.10,user=jack,volume=Technology/'
alias appleu='gvfs-mount -e'  # unmounts all
#alias applego='cd /run/user/jd/gvfs/afp-volume:host=10.1.10.10,user=jack,volume=Creative'
alias applego='cd Juniper/_New\ Network\ Innovators\ \(2012\)/JUN12351\ Campus\ -\ Simply\ connected\ Tool/Photoshop/'

# Enable Palm Detection
synclient PalmDetect=1

# Set keyboard map since Ubuntu loses it after suspend
setxkbmap 'us(altgr-intl)'

alias publish='scp -r index.html scripts scss/css img $jj:webapps/static'

# Redshift
alias rs1='redshift -g 0.4:0.4:0.4 -l 37:-122 &'
alias rs2='redshift -g 0.2:0.2:0.2 -l 37:-122 &'

# Ack
alias ack='ack-grep'

# screen
alias scr='screen -D -R jack'
alias scrc='screen -D -R jack_server'

############################################################
#             F L Y W H E E L    S T U F F

# Start Jetsons
alias start_jetsons='cd ~/jet/jack && bash runem.sh'
alias check_jetsons='dir_before_check=`pwd` && cd ~/jet/jack && bundle exec ruby check.rb && cd $dir_before_check && unset dir_before_check'

# Start Riak
alias start_riak='~/.installed_programs/riak-1.2.1/rel/riak/bin/riak start'
alias stop_riak='~/.installed_programs/riak-1.2.1/rel/riak/bin/riak stop'


# Flywheel envs for Rosie
export APN_CERTFILE="flywheel-ck.pem"
export APN_PASSPHRASE="valid helmet"
export GCM_APIKEY="AIzaSyBGuP7rghB-bxJzvpTaUSvGdpD1fhe-yEg"


alias fly='cd && cd flywheel_notes'
alias sp='cd ~/jet/spacely'
alias jl='cd ~/r/jacklisted'
alias day='cd ~/r/day'
alias fc='cd ~/jet/fc'
alias gu='git fetch flywheel && git rebase flywheel/master'
alias ja='bundle exec rspec spec/jane_spec.rb --order default'

alias gcm="git checkout master && do_chef"
alias gcs="git checkout staging-130521 && do_chef"
alias gcp="git checkout production-130812 && do_chef"
alias kesl="knife ec2 server list"
alias kesls="knife ec2 server list | sort -k2"
alias kesd="knife ec2 server delete"

# Custom
alias acceptance01='ssh -i ~/.ssh/chef-instances.pem ubuntu@master-uswest2a-acceptance01.flywheelnow.com'
alias acceptance02='ssh -i ~/.ssh/chef-instances.pem ubuntu@master-uswest2a-acceptance02.flywheelnow.com'
alias staging01='ssh -i ~/.ssh/chef-instances.pem ubuntu@staging-uswest2a-app01.flywheelnow.com'
alias staging02='ssh -i ~/.ssh/chef-instances.pem ubuntu@staging-uswest2a-app02.flywheelnow.com'
alias staging03='ssh -i ~/.ssh/chef-instances.pem ubuntu@staging-uswest2a-app03.flywheelnow.com'

alias production01='ssh -i ~/.ssh/chef-instances.pem ubuntu@production-useast1a-app01.flywheelnow.com'
alias production02='ssh -i ~/.ssh/chef-instances.pem ubuntu@production-useast1b-app02.flywheelnow.com'
alias production03='ssh -i ~/.ssh/chef-instances.pem ubuntu@production-useast1d-app03.flywheelnow.com'
alias production04='ssh -i ~/.ssh/chef-instances.pem ubuntu@production-useast1a-app04.flywheelnow.com'
alias production05='ssh -i ~/.ssh/chef-instances.pem ubuntu@production-useast1b-app05.flywheelnow.com'
alias production06='ssh -i ~/.ssh/chef-instances.pem ubuntu@production-useast1d-app06.flywheelnow.com'
alias production07='ssh -i ~/.ssh/chef-instances.pem ubuntu@production-useast1b-app07.flywheelnow.com'
alias production08='echo production08 has been shut down'


export CHEF_HOME=$HOME/jet/chef-repo
export CHEF_USER="jack"
export JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64/jre/

export EC2_AMITOOL_HOME=$HOME/.tools/ec2-ami-tools
export EC2_APITOOL_HOME=$HOME/.tools/ec2-api-tools

export PATH=$PATH:$EC2_APITOOL_HOME/bin:$EC2_AMITOOL_HOME/bin

# alias for Chef setup
export EC2_HOME=$EC2_APITOOL_HOME


export AWS_ACCESS_KEY_ID="AKIAJ6PIRAIDXU3QIDHA"
export AWS_SECRET_ACCESS_KEY="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"
export AWS_SSH_KEY_ID="chef-instances"
# for ec2 API tools
export AWS_ACCESS_KEY=$AWS_ACCESS_KEY_ID
export AWS_SECRET_KEY=$AWS_SECRET_ACCESS_KEY
export EC2_URL=`cat $CHEF_HOME/.chef/EC2_URL.conf`

do_chef() {
   export AWS_ACCESS_KEY_ID="AKIAJ6PIRAIDXU3QIDHA"
   export AWS_SECRET_ACCESS_KEY="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"
   export AWS_SSH_KEY_ID="chef-instances"
   # for ec2 API tools
   export AWS_ACCESS_KEY=$AWS_ACCESS_KEY_ID
   export AWS_SECRET_KEY=$AWS_SECRET_ACCESS_KEY
   export EC2_URL=`cat $CHEF_HOME/.chef/EC2_URL.conf`
}

#Alex' gist
# https://gist.github.com/bisceglie/13e1a7a5069e72411c90
